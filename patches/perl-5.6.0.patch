diff -ur perl-5.6.0.orig/Configure perl-5.6.0/Configure
--- perl-5.6.0.orig/Configure	2008-09-19 01:55:03.000000000 +0100
+++ perl-5.6.0/Configure	2008-09-19 01:58:01.000000000 +0100
@@ -13690,7 +13690,7 @@
 
 set signal
 if eval $compile_ok; then
-	./signal$_exe | $sort -n +1 | $uniq | $awk -f signal.awk >signal.lst
+ 	./signal$_exe | ($sort -n -k 2 2>/dev/null || $sort -n +1) | $uniq | $awk -f signal.awk >signal.lst
 else
 	echo "(I can't seem be able to compile the whole test program)" >&4
 	echo "(I'll try it in little pieces.)" >&4
@@ -13724,7 +13724,7 @@
 	done
 	if $test -s signal.ls1; then
 		$cat signal.nsg signal.ls1 |
-			$sort -n +1 | $uniq | $awk -f signal.awk >signal.lst
+			$sort -n | $uniq | $awk -f signal.awk >signal.lst
 	fi
 
 fi
diff -ur perl-5.6.0.orig/ext/DB_File/DB_File.xs perl-5.6.0/ext/DB_File/DB_File.xs
--- perl-5.6.0.orig/ext/DB_File/DB_File.xs	2008-09-19 01:55:03.000000000 +0100
+++ perl-5.6.0/ext/DB_File/DB_File.xs	2008-09-19 01:58:01.000000000 +0100
@@ -158,6 +158,10 @@
 #    define BERKELEY_DB_1_OR_2
 #endif
 
+#if DB_VERSION_MAJOR > 4 || (DB_VERSION_MAJOR == 4 && DB_VERSION_MINOR >= 1)
+#    define AT_LEAST_DB_4_1
+#endif
+
 /* map version 2 features & constants onto their version 1 equivalent */
 
 #ifdef DB_Prefix_t
diff -ur perl-5.6.0.orig/makedepend.SH perl-5.6.0/makedepend.SH
--- perl-5.6.0.orig/makedepend.SH	2008-09-19 01:55:03.000000000 +0100
+++ perl-5.6.0/makedepend.SH	2008-09-19 01:59:30.000000000 +0100
@@ -117,7 +117,7 @@
     *.y) filebase=`basename $file .y` ;;
     esac
     case "$file" in
-    */*) finc="-I`echo $file | sed 's#/[^/]*$##`" ;;
+    */*) finc="-I`echo $file | sed 's#/[^/]*$##'`" ;;
     *)   finc= ;;
     esac
     $echo "Finding dependencies for $filebase$_o."
@@ -135,16 +135,22 @@
     fi
     $cppstdin $finc -I. $cppflags $cppminus <UU/$file.c |
     $sed \
-	-e '1d' \
-	-e '/^#.*<stdin>/d' \
-	-e '/^#.*"-"/d' \
-	-e 's#\.[0-9][0-9]*\.c#'"$file.c#" \
-	-e 's/^[	 ]*#[	 ]*line/#/' \
-	-e '/^# *[0-9][0-9]* *[".\/]/!d' \
-	-e 's/^.*"\(.*\)".*$/'$filebase'\$(OBJ_EXT): \1/' \
-	-e 's/^# *[0-9][0-9]* \(.*\)$/'$filebase'\$(OBJ_EXT): \1/' \
-	-e 's|: \./|: |' \
-	-e 's|\.c\.c|.c|' $uwinfix | \
+        -e '1d' \
+        -e '/^#.*<stdin>/d' \
+        -e '/^#.*<builtin>/d' \
+        -e '/^#.*<built-in>/d' \
+        -e '/^#.*<command line>/d' \
+        -e '/^#.*<command-line>/d' \
+        -e '/^#.*"-"/d' \
+        -e '/^#.*"\/.*\/"/d' \
+        -e '/: file path prefix .* never used$/d' \
+        -e 's#\.[0-9][0-9]*\.c#'"$file.c#" \
+        -e 's/^[	 ]*#[	 ]*line/#/' \
+        -e '/^# *[0-9][0-9]* *[".\/]/!d' \
+        -e 's/^.*"\(.*\)".*$/'$filebase'\$(OBJ_EXT): \1/' \
+        -e 's/^# *[0-9][0-9]* \(.*\)$/'$filebase'\$(OBJ_EXT): \1/' \
+        -e 's|: \./|: |' \
+        -e 's|\.c\.c|.c|' $uwinfix | \
     $uniq | $sort | $uniq >> .deptmp
 done
 
